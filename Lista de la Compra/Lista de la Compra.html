<!DOCTYPE html>
<html lang="es">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lista de Compra Futurista</title>
<link rel="icon" href="https://w7.pngwing.com/pngs/152/1007/png-transparent-computer-icons-online-shopping-business-app-store-market-miscellaneous-blue-angle.png" type="image/x-icon">
<link rel="shortcut icon" href="https://w7.pngwing.com/pngs/152/1007/png-transparent-computer-icons-online-shopping-business-app-store-market-miscellaneous-blue-angle.png" type="image/x-icon">
<style>
 body {
  font-family: Arial, sans-serif;
  background-color: #272727; /* Mantenido el tono */
  color: #ffffff;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  padding: 2%;
  padding-bottom: auto;
  padding-top: auto;
}

#container {
  background-color: #1a1a1a;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
  max-width: 1500px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  height: auto;
  margin-top: auto;
  margin-bottom: auto;
  box-sizing: border-box;
}

#left-panel {
  flex: 1;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
  max-width: 1200px;
  width: 100%;
  box-sizing: border-box;
}

#right-panel {
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
  max-width: 330px;
  width: 100%;
  box-sizing: border-box;
  margin-left: 3%;
}



h2 {
  text-align: center;
}

.aisle {
  border: 3px solid #ffffff; /* Añadido borde para diferenciar los pasillos */
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 0px;
  margin-top: 2%;
  height: 170px;
}

.aisle1 {
  border: 3px solid #ffffff; /* Añadido borde para diferenciar los pasillos */
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 20px;
  height: 170px;
}

.aisle3 {
  border: 3px solid #ffffff; /* Añadido borde para diferenciar los pasillos */
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 0px;
  margin-top: 5.5%;
  height: 170px;
}

#shopping-list {
  border: 2px solid #ffffff; /* Añadido borde para diferenciar los pasillos */
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 20px;
}

.product {
  margin-bottom: 10px;
  display: flex;
  align-items: center;
}

.product label {
  font-weight: bold;
}

#agregar {
  background-color: #4caf4f88;
  border: none;
  color: white;
  padding: 5px 10px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 12px;
  margin-left: 10px; /* Mantenido el margen izquierdo */
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s;
}

#quitar {
  border: none;
  color: rgb(0, 0, 0);
  padding: 5px 10px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 12px;
  margin-left: 0; /* Cambiado el margen izquierdo a 0 */
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s;
}

#quitar:hover{
  background-color: #a3a5a39a;
}

#agregar:hover {
  background-color: #2c632e;
}

#shopping-list {
  border: 2px solid rgb(92, 156, 182);
  padding-top: 20px;
  background-color: #504f4f65;
  height: auto;
}

#shopping-list h2 {
  margin-bottom: 10px;
}

#shopping-list ul {
  list-style-type: none;
  padding: 0;
}

#shopping-list li {
  margin-bottom: 5px;
}

#clear-button {
  background-color: #d32f2fef;
  border: none;
  color: white;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: block;
  margin: auto;
  margin-top: 20px;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s;
}

#clear-button:hover {
  background-color: #6d0b0b;
}

label {
  font-size: 13px;
}

p
{
  font-size: 13px;
  text-align: center;
  color: rgb(226, 88, 100);
}

h5
{
  font-size: 15px;
  text-align: center;
  color: rgba(165, 20, 20, 0.801);
}

h6
{
  font-size: 15px;
  text-align: center;
  color: rgba(33, 192, 99, 0.993);
}

h3 {
    display: inline-block;
    width: 50px;
    height: 50px;
    border-radius: 50%; /* Forma circular */
    background-color: #3c7fa7; /* Color de fondo */
    color: white;
    text-align: center;
    line-height: 50px; 
    font-size: 20px;
    margin: 5px; 
    margin-top: 30px;
  }

  @keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOutRight {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(100%);
  }
}

.slide-enter {
  animation: slideInLeft 3s ease forwards;
}

.slide-exit {
  animation: slideOutRight 3s ease forwards;
}
</style>
</head>



<body>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<div id="container">

  
  <!----------------------------------------------- LISTA PRODUCTOS (CAJA IZQUIERDA) ----------------------------------------------->
  <div id="left-panel">
    <h2><i class="fa-solid fa-boxes-stacked" style="color: rgb(255, 208, 0);"></i> Inventario Almacén <i class="fa-solid fa-boxes-stacked" style="color: rgb(255, 208, 0);"></i></h2>
    <div class="aisle" style="border-color: rgba(177, 160, 9, 0.452);">
      <table>
        <tr>
          <th>Producto</th>
          <th>Cantidad</th>
          <th>Precio</th>
        </tr>
        <tr>
          <td>Manzanas</td>
          <td>10</td>
          <td>$3.00</td>
        </tr>
        <tr>
          <td>Naranjas</td>
          <td>5</td>
          <td>$4.00</td>
        </tr>
        <tr>
          <td>Plátanos</td>
          <td>8</td>
          <td>$2.50</td>
        </tr>
      </table>
    </div>
  </div>
        
    
  <!-----------------------------------------------LISTA DE LA COMPRA (CAJA DERECHA) ----------------------------------------------->
  <div id="right-panel">
    <h2><i class="fa-solid fa-basket-shopping" style="color: rgb(92, 156, 182);"></i> Lista de la Compra <i class="fa-solid fa-basket-shopping" style="color: rgb(92, 156, 182);"></i></h2>
    <div class="aisle" id="shopping-list">
      <ul id="shopping-items">
        <!-- Los elementos de la lista de compra se agregarán aquí -->
      </ul>
      
    </div>
    <button id="clear-button" onclick="clearShoppingList(); playRemoveListSound();"><i class="fa-solid fa-trash-can"></i> Limpiar Lista</button>
  </div>
</div>





<!-- SCRIPT -->
<audio id="timbre" src="beep.mp3"></audio>
<audio id="borrar" src="quitar.mp3"></audio>
<audio id="borrar-lista" src="clear.mp3"></audio>

<script>
  // Variables para almacenar los elementos de audio
  function playRemoveListSound() {
    var audio = document.getElementById("borrar-lista");
    audio.play();
  }
  var cashRegisterSound = document.getElementById("timbre");
  var removeSound = document.getElementById("borrar");

  function addToShoppingList(productName) {
    var list = document.getElementById('shopping-items');
    var items = list.getElementsByTagName('li');
    var found = false;

    // Buscar si el producto ya está en la lista
    for (var i = 0; i < items.length; i++) {
      if (items[i].textContent.startsWith(productName + ':')) {
        found = true;
        var quantity = parseInt(items[i].textContent.split(':')[1].trim()) + 1;
        items[i].innerHTML = '<div style="border-color: white; border: 1px solid; border-radius: 60px; padding: 7px; background-color: #264d73">' + productName + ': <span style="color: #33ccff;"><i class="fa-solid fa-arrow-right"></i></span>' + '<span style="float: right; color: #ff944d;" onclick="removeOneFromShoppingList(this)">' + quantity + '</span><span style="color: #33ccff; float: right;"></span> </div>';
        break;
      }
    }

    // Si no se encontró, agregarlo a la lista
    if (!found) {
      var item = document.createElement('li');
      item.className = 'fade-enter';
      item.innerHTML = '<div style="border-color: white; border: 1px solid; border-radius: 60px; padding: 7px; background-color: #264d73">' + productName + ': <span style="color: #33ccff;"><i class="fa-solid fa-arrow-right"></i></span>' + '<span style="float: right; color: #ff944d;" onclick="removeOneFromShoppingList(this)">1</span><span style="color: #33ccff; float: right;"></span> </div>'; // Inicializar cantidad en 1
      list.appendChild(item);
      // Añadir evento de clic al nombre del producto para restar 1 a la cantidad
      item.addEventListener('click', function() {
        removeOneFromShoppingList(this.getElementsByTagName('span')[1]);
      });
    }

    // Reproducir el sonido
    playCashRegisterSound();
  }

  function removeOneFromShoppingList(element) {
    var listItem = element.parentNode;
    var productName = listItem.parentNode.textContent.split(':')[0].trim();
    var quantity = parseInt(listItem.textContent.trim());

    // Restar 1 a la cantidad y actualizar la lista
    if (quantity > 1) {
      quantity--;
      listItem.textContent = productName + ': ' + quantity;
    } else {
      // Si la cantidad es 1, eliminar el elemento de la lista con animación de salida
      listItem.className = 'fade-exit';
      setTimeout(function() {
        listItem.parentNode.removeChild(listItem);
        // Reproducir el sonido al quitar un elemento
        playRemoveSound();
      }, 300); // Tiempo de espera igual a la duración de la animación
    }
  }

  function removeFromShoppingList(productName) {
    var list = document.getElementById('shopping-items');
    var items = list.getElementsByTagName('li');

    // Buscar si el producto está en la lista
    for (var i = 0; i < items.length; i++) {
      if (items[i].textContent.startsWith(productName + ':')) {
        var quantity = parseInt(items[i].textContent.split(':')[1].trim());

        // Si la cantidad es mayor que 1, decrementarla
        if (quantity > 1) {
          quantity--;
          items[i].innerHTML = '<div style="border-color: white; border: 1px solid; border-radius: 60px; padding: 7px; background-color: #264d73">' + productName + ': <span style="color: #33ccff;"><i class="fa-solid fa-arrow-right"></i></span>' + '<span style="float: right; color: #ff944d;" onclick="removeOneFromShoppingList(this)">' + quantity + '</span><span style="color: #33ccff; float: right;"></span> </div>';
        } else {
          // Si la cantidad es 1, eliminar el elemento de la lista con animación de salida
          items[i].className = 'fade-exit';
          setTimeout(function() {
            list.removeChild(items[i]);
            // Reproducir el sonido al quitar un elemento
            playRemoveSound();
          }, 300); // Tiempo de espera igual a la duración de la animación
        }

        break;
      }
    }
  }

  function clearShoppingList() {
    var list = document.getElementById('shopping-items');
    list.innerHTML = '';
  }

  // Función para reproducir el sonido de la caja registradora
  function playCashRegisterSound() {
    cashRegisterSound.pause(); // Pausar el audio si ya está reproduciendo
    cashRegisterSound.currentTime = 0; // Reiniciar el audio al principio
    cashRegisterSound.play(); // Reproducir el sonido
  }

  // Función para reproducir el sonido al quitar un elemento
  function playRemoveSound() {
    removeSound.currentTime = 0; // Reiniciar el audio al principio
    removeSound.play(); // Reproducir el sonido
  }
</script>
 
</body>
</html>
